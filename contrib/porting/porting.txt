This file gives a quick description on howto port a new dos version to unix

It is meant for those who want to have the latest and hotest version even
before your xmame-maintainer finds the time to release it. And to
stop them from porting mistakes and thus reporting unjustified bugs ;)

I also wrote this so that I don't leave a big void if anything might happen 
to me, I know this is a bit doomsday thinking, but i have seen to many young
people die around me not to take this precaution. ;(,
Don't worry though I'm planning on staying around for a while.

Hans

And now the story:

Preperation 
-unpack on old xmame-version you'll need it, the following files
 should be taken from it's contrib-dir:
-compile fix-includes.c to fix-comments (gcc -o fix-comments fix-comments.c)
-put fix-includes, fix-mame, fix-comments and lowercase in a dir somewhere in
 your PATH (~/bin comes to mind, make sure it's in your path though)

Actual 'porting'
-make a new dir called something like xmame-newversionno.1
-cd into this dir
-unzip -L (make all filenames lowercase) newdossourcedist.zip
-run fix-mame from this dir, this will in order do the following:
 -remove some unwanted files
 -mv docs to a doc subdir and remove cariage returns from them
 -run fix-comments on all .c and .h files which will remove all <cr> from them and
  convert // style comments to /* */ style, and lowercase all includes.
 -mv makefile to makefile.dos
-create makefile.objs:
 -see makefile.objs from the older xmame as an example
 -cut and paste the objs-list and all the .a file dependencies from
  makefile.dos to your new makefile.objs
 -run: lowercase makefile.objs. This will lowercase all info in this file.
 -Call the objs-list in the file OBJCORE
 -Add the .a files from LIBS in makefile.dos to OBJCORE
 -make sure the .a's are listed after the .o's otherwise linking will fail
-cp makefile.unix from the old-xmame to .
-cp the src/unix <dir> from the old-xmame to src/unix
-edit makefile.unix and update the version number
-do a diff -uBbr <old-xmame>/src/msdos <new-xmame>/src/msdos > bla
-look in bla if anything on the osd side changed that needs to be changed
 in the unix-osd part to, things like different return/call values, new
 functions alltogether, different prototypes etc.
-make the nescesarry changes to src/unix/*
-do a diff -uBbr <old-xmame>/src/unix <new-xmame>/src/unix > bla
-look in bla and make sure you didn't break anything.
-if you want to distribute this port, better leave the defaults in
 makefile.unix alone, they're pretty sane, so copy makefile.unix
 to makefile.bla.
-edit makefile.bla to suit your needs, if possible force ansi-compliance on
 your compiler to test the new version on ansi-compliance.
-make -f makefile.bla 2> stderrlog (remember use GNU-make)
-if something went wrong see stderrlog, if everything went right see
 stderrlog for non-ansi warnings and fix them unless they are about unused
 vars, or trigraphs
-all done, enjoy your new-xmame, make clean and tgz to distribute to friends
 if you followed this step by step you should have a xmame of the
 same-quality as the official distributions.
