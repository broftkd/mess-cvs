<tests>

<imgtooltest name="fat_001">
	<!-- Basic FAT tests -->
	<createimage driver="pc_dsk_fat"/>
	<checkdirectory/>

	<putfile name="FOO.TXT">'Hello World!'</putfile>
	<checkdirectory>
		<entry name="FOO.TXT" size="12"/>
	</checkdirectory>
	<checkfile name="FOO.TXT">'Hello World!'</checkfile>

	<putfile name="BAR.TXT">'Dingus!'</putfile>
	<checkdirectory>
		<entry name="FOO.TXT" size="12"/>
		<entry name="BAR.TXT" size="7"/>
	</checkdirectory>
	<checkfile name="FOO.TXT">'Hello World!'</checkfile>
	<checkfile name="BAR.TXT">'Dingus!'</checkfile>

	<putfile name="FOO.TXT"/>
	<checkdirectory>
		<entry name="FOO.TXT" size="0"/>
		<entry name="BAR.TXT" size="7"/>
	</checkdirectory>
	<checkfile name="FOO.TXT"/>
	<checkfile name="BAR.TXT">'Dingus!'</checkfile>

	<deletefile name="BAR.TXT"/>
	<checkdirectory>
		<entry name="FOO.TXT" size="0"/>
	</checkdirectory>
	<checkfile name="FOO.TXT"/>
</imgtooltest>

<imgtooltest name="fat_002">
	<!-- Testing larger files -->
	<createimage driver="pc_dsk_fat"/>

	<putfile name="FOO.TXT">'Abcdefg' * 111</putfile>
	<checkdirectory>
		<entry name="FOO.TXT" size="777"/>
	</checkdirectory>
	<checkfile name="FOO.TXT">'Abcdefg' * 111</checkfile>

	<putfile name="FOO.TXT">'Abcdefghijk' * 2010</putfile>
	<checkdirectory>
		<entry name="FOO.TXT" size="22110"/>
	</checkdirectory>
	<checkfile name="FOO.TXT">'Abcdefghijk' * 2010</checkfile>

	<putfile name="FOO.TXT">'Abcdefg' * 111</putfile>
	<checkdirectory>
		<entry name="FOO.TXT" size="777"/>
	</checkdirectory>
	<checkfile name="FOO.TXT">'Abcdefg' * 111</checkfile>

	<deletefile name="FOO.TXT"/>
	<checkdirectory/>
</imgtooltest>

<imgtooltest name="fat_003">
	<!-- Testing many files -->
	<createimage driver="pc_dsk_fat"/>

	<putfile name="1.TXT"/>
	<putfile name="2.TXT"/>
	<putfile name="3.TXT"/>
	<putfile name="4.TXT"/>
	<putfile name="5.TXT"/>
	<putfile name="6.TXT"/>
	<putfile name="7.TXT"/>
	<putfile name="8.TXT"/>
	<putfile name="9.TXT"/>
	<checkdirectory>
		<entry name="1.TXT"/>
		<entry name="2.TXT"/>
		<entry name="3.TXT"/>
		<entry name="4.TXT"/>
		<entry name="5.TXT"/>
		<entry name="6.TXT"/>
		<entry name="7.TXT"/>
		<entry name="8.TXT"/>
		<entry name="9.TXT"/>
	</checkdirectory>
</imgtooltest>

<imgtooltest name="fat_004">
	<!-- Testing directories -->
	<createimage driver="pc_dsk_fat"/>
	
	<createdirectory path="FOO"/>
	<putfile name="\FOO\BAR.TXT">'Party'</putfile>

	<checkdirectory path="\">
		<entry name="FOO"/>
	</checkdirectory>
	<checkdirectory path="\FOO">
		<entry name="BAR.TXT"/>
	</checkdirectory>

	<deletefile name="\FOO\BAR.TXT"/>

	<checkdirectory path="\">
		<entry name="FOO"/>
	</checkdirectory>
	<checkdirectory path="/FOO"/>

	<deletedirectory path="/FOO"/>

	<checkdirectory path="/"/>
</imgtooltest>

<imgtooltest name="fat_005">
	<!-- Testing many files in a subdirectory -->
	<createimage driver="pc_dsk_fat"/>
	<createdirectory path="FOO"/>

	<putfile name="\FOO\1.TXT"/>
	<putfile name="\FOO\2.TXT"/>
	<putfile name="\FOO\3.TXT"/>
	<putfile name="\FOO\4.TXT"/>
	<putfile name="\FOO\5.TXT"/>
	<putfile name="\FOO\6.TXT"/>
	<putfile name="\FOO\7.TXT"/>
	<putfile name="\FOO\8.TXT"/>
	<putfile name="\FOO\9.TXT"/>
	<checkdirectory path="\FOO">
		<entry name="1.TXT"/>
		<entry name="2.TXT"/>
		<entry name="3.TXT"/>
		<entry name="4.TXT"/>
		<entry name="5.TXT"/>
		<entry name="6.TXT"/>
		<entry name="7.TXT"/>
		<entry name="8.TXT"/>
		<entry name="9.TXT"/>
	</checkdirectory>
</imgtooltest>

<imgtooltest name="fat_006">
	<!-- Testing many more files in a subdirectory -->
	<createimage driver="pc_dsk_fat"/>
	<createdirectory path="FOO"/>

	<putfile name="\FOO\1.TXT"/>
	<createdirectory path="\FOO\A"/>
	<putfile name="\FOO\2.TXT"/>
	<createdirectory path="\FOO\B"/>
	<putfile name="\FOO\3.TXT"/>
	<createdirectory path="\FOO\C"/>
	<putfile name="\FOO\4.TXT"/>
	<createdirectory path="\FOO\D"/>
	<putfile name="\FOO\5.TXT"/>
	<createdirectory path="\FOO\E"/>
	<putfile name="\FOO\6.TXT"/>
	<createdirectory path="\FOO\F"/>
	<putfile name="\FOO\7.TXT"/>
	<createdirectory path="\FOO\G"/>
	<putfile name="\FOO\8.TXT"/>
	<createdirectory path="\FOO\H"/>
	<putfile name="\FOO\9.TXT"/>
	<createdirectory path="\FOO\I"/>
	<checkdirectory path="\FOO">
		<entry name="1.TXT"/>
		<entry name="A"/>
		<entry name="2.TXT"/>
		<entry name="B"/>
		<entry name="3.TXT"/>
		<entry name="C"/>
		<entry name="4.TXT"/>
		<entry name="D"/>
		<entry name="5.TXT"/>
		<entry name="E"/>
		<entry name="6.TXT"/>
		<entry name="F"/>
		<entry name="7.TXT"/>
		<entry name="G"/>
		<entry name="8.TXT"/>
		<entry name="H"/>
		<entry name="9.TXT"/>
		<entry name="I"/>
	</checkdirectory>
</imgtooltest>

<imgtooltest name="fat_007">
	<!-- Testing many more files in a subdirectory -->
	<createimage driver="pc_dsk_fat"/>
	<createdirectory path="FOO"/>
	
	<putfile name="\FOO\1.TXT">'Alpha'</putfile>
	<putfile name="\FOO\2.TXT">'Bravo'</putfile>
	<putfile name="\FOO\3.TXT">'Charlie'</putfile>
	<deletefile name="\FOO\2.TXT"/>
	<checkdirectory path="\FOO">
		<entry name="1.TXT" size="5"/>
		<entry name="3.TXT" size="7"/>
	</checkdirectory>

	<putfile name="\FOO\4.TXT">'Delta'</putfile>
	<checkfile name="\FOO\1.TXT">'Alpha'</checkfile>
	<checkfile name="\FOO\3.TXT">'Charlie'</checkfile>
	<checkfile name="\FOO\4.TXT">'Delta'</checkfile>
</imgtooltest>

</tests>
